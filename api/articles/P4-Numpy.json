{"title":"Numpy","uid":"a8e2ee6754304afbeaa4e985f7b29570","slug":"P4-Numpy","date":"2021-12-23T08:46:39.000Z","updated":"2021-12-23T10:03:30.230Z","comments":true,"path":"api/articles/P4-Numpy.json","keywords":null,"cover":"https://img-blog.csdnimg.cn/f95ee28b02b7491ca3482e9525ebc7ee.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUZSNzE4,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center","content":"<h1 id=\"12222222222\"><a href=\"#12222222222\" class=\"headerlink\" title=\"12222222222\"></a>12222222222</h1><h1 id=\"NumPy-简介\"><a href=\"#NumPy-简介\" class=\"headerlink\" title=\"NumPy 简介\"></a>NumPy 简介</h1><p>NumPy 是用于处理数组的 python 库。</p>\n<p>它还拥有在线性代数、傅立叶变换和矩阵领域中工作的函数。</p>\n<ul>\n<li><p>NumPy 旨在提供一个比传统 Python 列表快 50 倍的数组对象。</p>\n</li>\n<li><p>NumPy 中的数组对象称为 ndarray，它提供了许多支持函数，使得利用 ndarray 非常容易。</p>\n</li>\n<li><p>数组在数据科学中非常常用，因为速度和资源非常重要。</p>\n</li>\n</ul>\n<p><strong>为什么 NumPy 比列表快？</strong></p>\n<p>与列表不同，NumPy 数组存储在内存中的一个连续位置，因此进程可以非常有效地访问和操纵它们。</p>\n<p>这种行为在计算机科学中称为引用的局部性。</p>\n<p>这是 NumPy 比列表更快的主要原因。它还经过了优化，可与最新的 CPU 体系结构一同使用。</p>\n<h2 id=\"NumPy入门\"><a href=\"#NumPy入门\" class=\"headerlink\" title=\"NumPy入门\"></a>NumPy入门</h2><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\"><span class=\"token comment\">#导入库</span>\n<span class=\"token keyword\">import</span> numpy <span class=\"token keyword\">as</span> np\n<span class=\"token keyword\">print</span><span class=\"token punctuation\">(</span>np<span class=\"token punctuation\">.</span>__version__<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"创建-NumPy-ndarray-对象\"><a href=\"#创建-NumPy-ndarray-对象\" class=\"headerlink\" title=\"创建 NumPy ndarray 对象\"></a>创建 NumPy ndarray 对象</h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>创建代码</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>np.arange(0,10,2)</td>\n<td>[start：stop)：step</td>\n</tr>\n<tr>\n<td>np.linspace(0,10,10)</td>\n<td>创建[0，10]均匀分布10个点</td>\n</tr>\n<tr>\n<td>np.random.random((3,4))</td>\n<td>0~1均匀分布，维度（3，4）</td>\n</tr>\n<tr>\n<td>np.random.randint(0,10,size=(3,4))</td>\n<td>随机分布</td>\n</tr>\n<tr>\n<td>np.random.normal(loc=0.0, scale=1.0, size=(3,4))</td>\n<td>均值0，标准差1，正态分布</td>\n</tr>\n<tr>\n<td>np.zeros((3,4),dtype=int)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.ones((3,4))</td>\n<td></td>\n</tr>\n<tr>\n<td>np.eye(3)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.full((3,4),”x”)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.empty((3,4))</td>\n<td>未初始化的随机值</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"属性\"><a href=\"#属性\" class=\"headerlink\" title=\"属性\"></a>属性</h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>属性</th>\n<th>含义</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>np.random.seed(0)</td>\n<td>设置随机种子</td>\n</tr>\n<tr>\n<td>x.ndim</td>\n<td>维度</td>\n</tr>\n<tr>\n<td>x.shape</td>\n<td>形状</td>\n</tr>\n<tr>\n<td>x.size</td>\n<td>元素个数</td>\n</tr>\n<tr>\n<td>x.dtype</td>\n<td>数据类型</td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<h1 id=\"索引-切片\"><a href=\"#索引-切片\" class=\"headerlink\" title=\"索引/切片\"></a>索引/切片</h1><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>维度</th>\n<th>索引方法</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>x[start:stop:step]</td>\n</tr>\n<tr>\n<td>2</td>\n<td>x[start:stop:step，…]</td>\n</tr>\n<tr>\n<td>3</td>\n<td>x[start:stop:step，…，…]</td>\n</tr>\n<tr>\n<td>布尔矩阵做掩码</td>\n<td>x[x&gt;8]</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>交叉索引</strong></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">X <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>arange<span class=\"token punctuation\">(</span><span class=\"token number\">12</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#array([[ 0,  1,  2,  3],</span>\n<span class=\"token comment\">#       [ 4,  5,  6,  7],</span>\n<span class=\"token comment\">#       [ 8,  9, 10, 11]])   </span>\nrow <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\ncol <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> <span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nX<span class=\"token punctuation\">[</span>row<span class=\"token punctuation\">,</span> col<span class=\"token punctuation\">]</span>  <span class=\"token comment\">#row, col交点</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>组合索引</strong></p>\n<pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">X<span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">:</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"常用方法\"><a href=\"#常用方法\" class=\"headerlink\" title=\"常用方法\"></a>常用方法</h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>方法</th>\n<th>功能</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>x.reshape(1,1,2,6)</td>\n<td>改变维度</td>\n</tr>\n<tr>\n<td>x[np.newaxis,:,:,np.newaxis,]</td>\n<td>新增维度</td>\n</tr>\n<tr>\n<td>np.concatenate((x,xx),axis=1)</td>\n<td>沿axis轴拼接</td>\n</tr>\n<tr>\n<td>np.vstack((x,xx))</td>\n<td>第一维度拼接</td>\n</tr>\n<tr>\n<td>np.hstack((x,xx))</td>\n<td>第二维度拼接</td>\n</tr>\n<tr>\n<td>np.split(x,2,axis=1)</td>\n<td>某维度按下标切分</td>\n</tr>\n<tr>\n<td>np.vsplit(x,[1])</td>\n<td>第一维度切分</td>\n</tr>\n<tr>\n<td>np.hsplit(x,[1,3])</td>\n<td>第二维度按下标1，3切分</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>聚合方法</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>np.sum(x)</td>\n<td>求和</td>\n</tr>\n<tr>\n<td>np.prod(x)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.mean(x)</td>\n<td>均值</td>\n</tr>\n<tr>\n<td>np.std(x)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.var(x)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.min(x)</td>\n<td>最小值</td>\n</tr>\n<tr>\n<td>np.max(x)</td>\n<td>最大值</td>\n</tr>\n<tr>\n<td>np.argmax(x)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.argmin(x)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.median(x)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.percentile(x,10)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.any(x)</td>\n<td>返回bool</td>\n</tr>\n<tr>\n<td>np.all(x)</td>\n<td>返回bool</td>\n</tr>\n</tbody>\n</table>\n</div>\n<div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>排序方法</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>np.sort(X,axis=0)</td>\n<td></td>\n</tr>\n<tr>\n<td>np.partition(X,3,axis=1)</td>\n<td>部分排序，找到第K小的值</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"运算\"><a href=\"#运算\" class=\"headerlink\" title=\"运算\"></a>运算</h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>运算方法</th>\n<th>运算符</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>基本运算</td>\n<td>+、-、<em>、/、*</em>、%</td>\n</tr>\n<tr>\n<td>绝对值</td>\n<td>np.abs(x)</td>\n</tr>\n<tr>\n<td>三角函数、数学公式</td>\n<td>np.sin(x)、np.cos(x)、np.tan(x)、np.log(x)、np.log10(x)</td>\n</tr>\n<tr>\n<td>逻辑运算</td>\n<td>&gt;、==、&lt;、&lt;=、&gt;=都是返回bool矩阵</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"广播机制\"><a href=\"#广播机制\" class=\"headerlink\" title=\"广播机制\"></a>广播机制</h2><pre class=\"line-numbers language-python\" data-language=\"python\"><code class=\"language-python\">x <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>random<span class=\"token punctuation\">.</span>randint<span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">10</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#array([[9, 7, 7, 7],</span>\n<span class=\"token comment\">#       [7, 7, 4, 9],</span>\n<span class=\"token comment\">#       [9, 1, 6, 8]])</span>\nxx <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">4</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\nxxx <span class=\"token operator\">=</span> np<span class=\"token punctuation\">.</span>array<span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\nx<span class=\"token operator\">+</span>xxx<span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#array([[10,  8,  8,  8],</span>\n<span class=\"token comment\">#       [ 9,  9,  6, 11],</span>\n<span class=\"token comment\">#       [12,  4,  9, 11]])</span>\nx<span class=\"token operator\">+</span>xxx<span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#array([[10,  8,  8,  8],</span>\n<span class=\"token comment\">#       [ 9,  9,  6, 11],</span>\n<span class=\"token comment\">#       [12,  4,  9, 11]])</span>\nxx<span class=\"token operator\">+</span>xxx<span class=\"token punctuation\">.</span>reshape<span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#array([[2, 3, 4, 5],</span>\n<span class=\"token comment\">#       [3, 4, 5, 6],</span>\n<span class=\"token comment\">#       [4, 5, 6, 7]])</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>inging</p>\n","feature":true,"text":"12222222222NumPy 简介NumPy 是用于处理数组的 python 库。 它还拥有在线性代数、傅立叶变换和矩阵领域中工作的函数。 NumPy 旨在提供一个比传统 Python 列表快 50 倍的数组对象。 NumPy 中的数组对象称为 ndarray，它提供了许多支...","link":"","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[{"name":"Python","slug":"Python","count":5,"path":"api/categories/Python.json"}],"tags":[{"name":"Numpy","slug":"Numpy","count":1,"path":"api/tags/Numpy.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#12222222222\"><span class=\"toc-text\">12222222222</span></a></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#NumPy-%E7%AE%80%E4%BB%8B\"><span class=\"toc-text\">NumPy 简介</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#NumPy%E5%85%A5%E9%97%A8\"><span class=\"toc-text\">NumPy入门</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA-NumPy-ndarray-%E5%AF%B9%E8%B1%A1\"><span class=\"toc-text\">创建 NumPy ndarray 对象</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B1%9E%E6%80%A7\"><span class=\"toc-text\">属性</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E7%B4%A2%E5%BC%95-%E5%88%87%E7%89%87\"><span class=\"toc-text\">索引&#x2F;切片</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95\"><span class=\"toc-text\">常用方法</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%90%E7%AE%97\"><span class=\"toc-text\">运算</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B9%BF%E6%92%AD%E6%9C%BA%E5%88%B6\"><span class=\"toc-text\">广播机制</span></a></li></ol></li></ol>","author":{"name":"YFR718","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/47553658?s=400&u=5e0a85700c66d7a2661c5664ec5f24d94e5ed01a&v=4","link":"/","description":"大数据萌新","socials":{"github":"https://github.com/YFR718","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"d","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{},"next_post":{"title":"Sqoop","uid":"3a0647bbf7ec80551437039f438fd197","slug":"B15-Sqoop","date":"2021-12-14T06:01:37.000Z","updated":"2021-12-14T06:35:25.861Z","comments":true,"path":"api/articles/B15-Sqoop.json","keywords":null,"cover":"https://img-blog.csdnimg.cn/42b16360e16c4a45847029b8e9b5c295.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUZSNzE4,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center","text":"1111111. Sqoop简介​ Sqoop是一款开源的工具，主要用于在Hadoop(Hive)与传统的数据库(mysql、postgresql…)间进行数据的传递，可以将一个关系型数据库（例如 ： MySQL ,Oracle ,Postgres等）中的数据导进到Hadoop的...","link":"","photos":[],"count_time":{"symbolsCount":"16k","symbolsTime":"14 mins."},"categories":[{"name":"大数据","slug":"大数据","count":8,"path":"api/categories/大数据.json"}],"tags":[{"name":"Sqoop","slug":"Sqoop","count":1,"path":"api/tags/Sqoop.json"}],"author":{"name":"YFR718","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/47553658?s=400&u=5e0a85700c66d7a2661c5664ec5f24d94e5ed01a&v=4","link":"/","description":"大数据萌新","socials":{"github":"https://github.com/YFR718","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"d","csdn":"","juejin":"","customs":{}}},"feature":true}}