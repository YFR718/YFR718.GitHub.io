{"title":"shell编程ing","uid":"35292c50fe93e1c9375839d3cf5431cb","slug":"B3-shell编程","date":"2021-11-16T08:46:40.000Z","updated":"2021-11-16T08:58:22.628Z","comments":true,"path":"api/articles/B3-shell编程.json","keywords":null,"cover":"https://img-blog.csdnimg.cn/072c6dbbbb4f421490a43bbba385f4d1.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUZSNzE4,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center","content":"<p>shell编程</p>\n<h1 id=\"shell基础\"><a href=\"#shell基础\" class=\"headerlink\" title=\"shell基础\"></a>shell基础</h1><p>Shell是一个命令行解释器，它接收应用程序/用户命令,然后调用操作系统内核。</p>\n<h2 id=\"Shel解析器\"><a href=\"#Shel解析器\" class=\"headerlink\" title=\"Shel解析器\"></a><strong>Shel解析器</strong></h2><p>（1）Linux提供的Shell解析器有：</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">[atguigu@hadoop101 ~]$ cat /etc/shells \n/bin/sh\n/bin/bash\n/sbin/nologin\n/bin/dash\n/bin/tcsh\n/bin/csh<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>（2）bash和sh的关系</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">[atguigu@hadoop101 bin]$ ll | grep bash\n-rwxr-xr-x. 1 root root 941880 5月  11 2016 bash\nlrwxrwxrwx. 1 root root      4 5月  27 2017 sh -&gt; bash<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n<p>（3）Centos默认的解析器是bash</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">[atguigu@hadoop102 bin]$ echo $SHELL\n/bin/bash<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<h2 id=\"Shell脚本入门\"><a href=\"#Shell脚本入门\" class=\"headerlink\" title=\"Shell脚本入门\"></a>Shell脚本入门</h2><p>1．脚本格式<br>脚本以==#!/bin/bash==开头（指定解析器）<br>2．第一个Shell脚本：helloworld</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">[atguigu@hadoop101 datas]$ touch helloworld.sh\n[atguigu@hadoop101 datas]$ vi helloworld.sh\n在helloworld.sh中输入如下内容\n#!/bin/bash\necho \"helloworld\"<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>脚本的常用执行方式</strong><br>第一种：采用bash或sh+脚本的相对路径或绝对路径（不用赋予脚本+x权限）</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">#\tsh+脚本的相对路径\n[atguigu@hadoop101 datas]$ sh helloworld.sh \nHelloworld\n#\tsh+脚本的绝对路径\n[atguigu@hadoop101 datas]$ sh /home/atguigu/datas/helloworld.sh \nhelloworld\n#\tbash+脚本的相对路径\n[atguigu@hadoop101 datas]$ bash helloworld.sh \nHelloworld\n#\tbash+脚本的绝对路径\n[atguigu@hadoop101 datas]$ bash /home/atguigu/datas/helloworld.sh \nHelloworld<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>第二种：采用输入脚本的绝对路径或相对路径执行脚本（必须具有可执行权限+x）</p>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">#首先要赋予helloworld.sh 脚本的+x权限\n[atguigu@hadoop101 datas]$ chmod 777 helloworld.sh\n#执行脚本\n相对路径\n[atguigu@hadoop101 datas]$ ./helloworld.sh \nHelloworld\n#绝对路径\n[atguigu@hadoop101 datas]$ /home/atguigu/datas/helloworld.sh \nHelloworld\n注意：第一种执行方法，本质是bash解析器帮你执行脚本，所以脚本本身不需要执行权限。第二种执行方法，本质是脚本需要自己执行，所以需要执行权限。<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"Shell中变量\"><a href=\"#Shell中变量\" class=\"headerlink\" title=\"Shell中变量\"></a>Shell中变量</h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>常用系统变量</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$HOME</td>\n<td></td>\n</tr>\n<tr>\n<td>$PWD</td>\n<td></td>\n</tr>\n<tr>\n<td>$SHELL</td>\n<td></td>\n</tr>\n<tr>\n<td>$USER</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>显示当前Shell中所有变量：set</p>\n<h2 id=\"自定义变量\"><a href=\"#自定义变量\" class=\"headerlink\" title=\"自定义变量\"></a>自定义变量</h2><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">#定义变量：\n变量=值 \n#撤销变量：\nunset 变量\n#声明静态变量：\nreadonly变量，注意：不能unset\n#可把变量提升为全局环境变量，可供其他Shell程序使用\nexport 变量名\n[atguigu@hadoop101 datas]$ vim helloworld.sh \n\n# 在helloworld.sh文件中增加echo $B\n#!/bin/bash\necho \"helloworld\"\necho $B\n[atguigu@hadoop101 datas]$ ./helloworld.sh \nHelloworld\n发现并没有打印输出变量B的值。\n[atguigu@hadoop101 datas]$ export B\n[atguigu@hadoop101 datas]$ ./helloworld.sh \nhelloworld\n2<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>变量定义规则</strong><br>    （1）变量名称可以由字母、数字和下划线组成，但是不能以数字开头，环境变量名建议大写。<br>    （2）等号两侧不能有空格<br>    （3）在bash中，变量默认类型都是字符串类型，无法直接进行数值运算。<br>    （4）变量的值如果有空格，需要使用双引号或单引号括起来。</p>\n<h2 id=\"特殊变量\"><a href=\"#特殊变量\" class=\"headerlink\" title=\"特殊变量\"></a>特殊变量</h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>特殊变量</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$n</td>\n<td>n为数字，<mjx-container class=\"MathJax\" jax=\"SVG\"><svg style=\"vertical-align: -0.452ex\" xmlns=\"http://www.w3.org/2000/svg\" width=\"17.421ex\" height=\"2.149ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 7700 950\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mn\"><path data-c=\"30\" d=\"M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z\"></path></g><g data-mml-node=\"mi\" transform=\"translate(500,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">代</text></g><g data-mml-node=\"mi\" transform=\"translate(1400,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">表</text></g><g data-mml-node=\"mi\" transform=\"translate(2300,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">该</text></g><g data-mml-node=\"mi\" transform=\"translate(3200,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">脚</text></g><g data-mml-node=\"mi\" transform=\"translate(4100,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">本</text></g><g data-mml-node=\"mi\" transform=\"translate(5000,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">名</text></g><g data-mml-node=\"mi\" transform=\"translate(5900,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">称</text></g><g data-mml-node=\"mi\" transform=\"translate(6800,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">，</text></g></g></g></svg></mjx-container>1-<mjx-container class=\"MathJax\" jax=\"SVG\"><svg style=\"vertical-align: -0.452ex\" xmlns=\"http://www.w3.org/2000/svg\" width=\"70.362ex\" height=\"2.149ex\" role=\"img\" focusable=\"false\" viewBox=\"0 -750 31100 950\"><g stroke=\"currentColor\" fill=\"currentColor\" stroke-width=\"0\" transform=\"scale(1,-1)\"><g data-mml-node=\"math\"><g data-mml-node=\"mn\"><path data-c=\"39\" d=\"M352 287Q304 211 232 211Q154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606Q171 666 243 666Q245 666 249 666T257 665H261Q273 665 286 663T323 651T370 619T413 560Q456 472 456 334Q456 194 396 97Q361 41 312 10T208 -22Q147 -22 108 7T68 93T121 149Q143 149 158 135T173 96Q173 78 164 65T148 49T135 44L131 43Q131 41 138 37T164 27T206 22H212Q272 22 313 86Q352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542Q341 552 337 562T323 588T293 615T246 625Q208 625 181 598Q160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z\"></path></g><g data-mml-node=\"mi\" transform=\"translate(500,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">代</text></g><g data-mml-node=\"mi\" transform=\"translate(1400,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">表</text></g><g data-mml-node=\"mi\" transform=\"translate(2300,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">第</text></g><g data-mml-node=\"mi\" transform=\"translate(3200,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">一</text></g><g data-mml-node=\"mi\" transform=\"translate(4100,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">到</text></g><g data-mml-node=\"mi\" transform=\"translate(5000,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">第</text></g><g data-mml-node=\"mi\" transform=\"translate(5900,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">九</text></g><g data-mml-node=\"mi\" transform=\"translate(6800,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">个</text></g><g data-mml-node=\"mi\" transform=\"translate(7700,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">参</text></g><g data-mml-node=\"mi\" transform=\"translate(8600,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">数</text></g><g data-mml-node=\"mi\" transform=\"translate(9500,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">，</text></g><g data-mml-node=\"mi\" transform=\"translate(10400,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">十</text></g><g data-mml-node=\"mi\" transform=\"translate(11300,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">以</text></g><g data-mml-node=\"mi\" transform=\"translate(12200,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">上</text></g><g data-mml-node=\"mi\" transform=\"translate(13100,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">的</text></g><g data-mml-node=\"mi\" transform=\"translate(14000,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">参</text></g><g data-mml-node=\"mi\" transform=\"translate(14900,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">数</text></g><g data-mml-node=\"mi\" transform=\"translate(15800,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">，</text></g><g data-mml-node=\"mi\" transform=\"translate(16700,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">十</text></g><g data-mml-node=\"mi\" transform=\"translate(17600,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">以</text></g><g data-mml-node=\"mi\" transform=\"translate(18500,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">上</text></g><g data-mml-node=\"mi\" transform=\"translate(19400,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">的</text></g><g data-mml-node=\"mi\" transform=\"translate(20300,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">参</text></g><g data-mml-node=\"mi\" transform=\"translate(21200,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">数</text></g><g data-mml-node=\"mi\" transform=\"translate(22100,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">需</text></g><g data-mml-node=\"mi\" transform=\"translate(23000,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">要</text></g><g data-mml-node=\"mi\" transform=\"translate(23900,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">用</text></g><g data-mml-node=\"mi\" transform=\"translate(24800,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">大</text></g><g data-mml-node=\"mi\" transform=\"translate(25700,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">括</text></g><g data-mml-node=\"mi\" transform=\"translate(26600,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">号</text></g><g data-mml-node=\"mi\" transform=\"translate(27500,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">包</text></g><g data-mml-node=\"mi\" transform=\"translate(28400,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">含</text></g><g data-mml-node=\"mi\" transform=\"translate(29300,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">，</text></g><g data-mml-node=\"mi\" transform=\"translate(30200,0)\"><text data-variant=\"italic\" transform=\"scale(1,-1)\" font-size=\"884px\" font-family=\"serif\" font-style=\"italic\">如</text></g></g></g></svg></mjx-container>{10}</td>\n<td></td>\n</tr>\n<tr>\n<td>$#</td>\n<td>获取所有输入参数==个数==，常用于循环</td>\n</tr>\n<tr>\n<td>$*</td>\n<td>这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体</td>\n<td></td>\n</tr>\n<tr>\n<td>$@</td>\n<td>这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待</td>\n<td></td>\n</tr>\n<tr>\n<td>$？</td>\n<td>最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。</td>\n</tr>\n<tr>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># $0 $# $* $@用法\n[atguigu@hadoop101 datas]$ vim parameter.sh\n#!/bin/bash\necho \"$0  $1   $2\"\necho $#\necho $*\necho $@\n[atguigu@hadoop101 datas]$ bash parameter.sh 1 2 3\nparameter.sh  1   2\n3\n1 2 3\n1 2 3\n# $？ 用法\n[atguigu@hadoop101 datas]$ ./helloworld.sh \nhello world\t\n[atguigu@hadoop101 datas]$ echo $?\n0<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"运算符\"><a href=\"#运算符\" class=\"headerlink\" title=\"运算符\"></a>运算符</h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>运算符</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>$((运算式))</td>\n<td></td>\n</tr>\n<tr>\n<td>$[运算式]</td>\n<td>S=$[(2+3)*4]</td>\n<td></td>\n</tr>\n<tr>\n<td>expr  + , - , *, /, %</td>\n<td>expr `expr 2 + 3` * 4</td>\n</tr>\n</tbody>\n</table>\n</div>\n<h2 id=\"条件判断\"><a href=\"#条件判断\" class=\"headerlink\" title=\"条件判断\"></a>条件判断</h2><div class=\"table-container\">\n<table>\n<thead>\n<tr>\n<th>[ condition ]</th>\n<th>（注意condition前后要有空格）</th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>两个整数之间比较</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>=</td>\n<td>字符串比较</td>\n<td>-lt</td>\n<td>小于（less than）</td>\n</tr>\n<tr>\n<td>-le</td>\n<td>小于等于（less equal）</td>\n<td>-eq</td>\n<td>等于（equal）</td>\n</tr>\n<tr>\n<td>-gt</td>\n<td>大于（greater than）</td>\n<td>-ge</td>\n<td>大于等于（greater equal）</td>\n</tr>\n<tr>\n<td>-ne</td>\n<td>不等于（Not equal）</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>按照文件权限进行判断</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>-r</td>\n<td>读的权限（read）</td>\n<td>-w</td>\n<td>有写的权限（write）</td>\n</tr>\n<tr>\n<td>-x</td>\n<td>有执行的权限（execute）</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>按照文件类型进行判断</td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>-f</td>\n<td>文件存在并且是一个常规的文件（file）</td>\n<td>-e</td>\n<td>文件存在（existence）</td>\n</tr>\n<tr>\n<td>-d</td>\n<td>文件存在并是一个目录（directory）</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\"># 23是否大于等于22\n[atguigu@hadoop101 datas]$ [ 23 -ge 22 ]\n[atguigu@hadoop101 datas]$ echo $?\n0\n# helloworld.sh是否具有写权限\n[atguigu@hadoop101 datas]$ [ -w helloworld.sh ]\n[atguigu@hadoop101 datas]$ echo $?\n0\n# /home/atguigu/cls.txt目录中的文件是否存在\n[atguigu@hadoop101 datas]$ [ -e /home/atguigu/cls.txt ]\n[atguigu@hadoop101 datas]$ echo $?\n1\n# 多条件判断（&amp;&amp; 表示前一条命令执行成功时，才执行后一条命令，|| 表示上一条命令执行失败后，才执行下一条命令）\n[atguigu@hadoop101 ~]$ [ condition ] &amp;&amp; echo OK || echo notok\nOK\n[atguigu@hadoop101 datas]$ [ condition ] &amp;&amp; [ ] || echo notok\nnotok\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"流程控制if-case-for-while\"><a href=\"#流程控制if-case-for-while\" class=\"headerlink\" title=\"流程控制if. case. for. while\"></a>流程控制if. case. for. while</h2><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">if [ 条件判断式 ];then \n  程序 \nfi \n# [ 条件判断式 ]，中括号和条件判断式之间必须有空格\n# if后要有空格\n\nif [ 条件判断式 ] \n  then \n    程序 \nfi\n# 列\nif [ $1 -eq \"1\" ]\nthen\n        echo \"banzhang zhen shuai\"\nelif [ $1 -eq \"2\" ]\nthen\n        echo \"cls zhen mei\"\nfi\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">case $变量名 in \n  \"值1\"） \n    如果变量的值等于值1，则执行程序1 \n    ;; \n  \"值2\"） \n    如果变量的值等于值2，则执行程序2 \n    ;; \n  …省略其他分支… \n  *） \n    如果变量的值都不是以上的值，则执行此程序 \n    ;; \nesac\n#注意事项：\n#1)\tcase行尾必须为单词“in”，每一个模式匹配必须以右括号“）”结束。\n#2)\t双分号“;;”表示命令序列结束，相当于java中的break。\n#3)\t最后的“*）”表示默认模式，相当于java中的default。\n#\ncase $1 in\n\"1\")\n        echo \"banzhang\"\n;;\n\n\"2\")\n        echo \"cls\"\n;;\n*)\n        echo \"renyao\"\n;;\nesac\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">for (( 初始值;循环控制条件;变量变化 )) \n  do \n    程序 \n  done\n# 列\ns=0\nfor((i=0;i&lt;=100;i++))\ndo\n        s=$[$s+$i]\ndone\n\n\nfor 变量 in 值1 值2 值3… \n  do \n    程序 \n  done\n \n# 列\nfor i in $*\n    do\n      echo \"ban zhang love $i \"\n    done<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">while [ 条件判断式 ] \n  do \n    程序\n  done\n\n# 列\ns=0\ni=1\nwhile [ $i -le 100 ]\ndo\n        s=$[$s+$i]\n        i=$[$i+1]\ndone\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"read读取控制台输入\"><a href=\"#read读取控制台输入\" class=\"headerlink\" title=\"read读取控制台输入\"></a>read读取控制台输入</h2><pre class=\"line-numbers language-shell\" data-language=\"shell\"><code class=\"language-shell\">read(选项)(参数)\n选项：\n-p：指定读取值时的提示符；\n-t：指定读取值时等待的时间（秒）。\n参数：变量，指定读取值的变量名\nread -t 7 -p \"Enter your name in 7 seconds \" NAME\necho $NAME\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h1 id=\"shell高级\"><a href=\"#shell高级\" class=\"headerlink\" title=\"shell高级\"></a>shell高级</h1><h2 id=\"系统函数\"><a href=\"#系统函数\" class=\"headerlink\" title=\"系统函数\"></a>系统函数</h2><h2 id=\"自定义函数\"><a href=\"#自定义函数\" class=\"headerlink\" title=\"自定义函数\"></a>自定义函数</h2><h2 id=\"Shell工具cut\"><a href=\"#Shell工具cut\" class=\"headerlink\" title=\"Shell工具cut\"></a>Shell工具cut</h2><h2 id=\"Shell工具sed\"><a href=\"#Shell工具sed\" class=\"headerlink\" title=\"Shell工具sed\"></a>Shell工具sed</h2><h2 id=\"Shell工具awrk\"><a href=\"#Shell工具awrk\" class=\"headerlink\" title=\"Shell工具awrk\"></a>Shell工具awrk</h2><h2 id=\"ShellI具sort\"><a href=\"#ShellI具sort\" class=\"headerlink\" title=\"ShellI具sort .\"></a>ShellI具sort .</h2>","text":"shell编程 shell基础Shell是一个命令行解释器，它接收应用程序/用户命令,然后调用操作系统内核。 Shel解析器（1）Linux提供的Shell解析器有： [atguigu@hadoop101 ~]$ cat /etc/shells /bin/sh /bin/bash...","link":"","photos":[],"count_time":{"symbolsCount":"4.7k","symbolsTime":"4 mins."},"categories":[{"name":"大数据","slug":"大数据","count":4,"path":"api/categories/大数据.json"}],"tags":[{"name":"Hadoop","slug":"Hadoop","count":2,"path":"api/tags/Hadoop.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#shell%E5%9F%BA%E7%A1%80\"><span class=\"toc-text\">shell基础</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Shel%E8%A7%A3%E6%9E%90%E5%99%A8\"><span class=\"toc-text\">Shel解析器</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Shell%E8%84%9A%E6%9C%AC%E5%85%A5%E9%97%A8\"><span class=\"toc-text\">Shell脚本入门</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Shell%E4%B8%AD%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">Shell中变量</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">自定义变量</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%89%B9%E6%AE%8A%E5%8F%98%E9%87%8F\"><span class=\"toc-text\">特殊变量</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%90%E7%AE%97%E7%AC%A6\"><span class=\"toc-text\">运算符</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%9D%A1%E4%BB%B6%E5%88%A4%E6%96%AD\"><span class=\"toc-text\">条件判断</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6if-case-for-while\"><span class=\"toc-text\">流程控制if. case. for. while</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#read%E8%AF%BB%E5%8F%96%E6%8E%A7%E5%88%B6%E5%8F%B0%E8%BE%93%E5%85%A5\"><span class=\"toc-text\">read读取控制台输入</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#shell%E9%AB%98%E7%BA%A7\"><span class=\"toc-text\">shell高级</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">系统函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0\"><span class=\"toc-text\">自定义函数</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Shell%E5%B7%A5%E5%85%B7cut\"><span class=\"toc-text\">Shell工具cut</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Shell%E5%B7%A5%E5%85%B7sed\"><span class=\"toc-text\">Shell工具sed</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#Shell%E5%B7%A5%E5%85%B7awrk\"><span class=\"toc-text\">Shell工具awrk</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#ShellI%E5%85%B7sort\"><span class=\"toc-text\">ShellI具sort .</span></a></li></ol></li></ol>","author":{"name":"YFR718","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/47553658?s=400&u=5e0a85700c66d7a2661c5664ec5f24d94e5ed01a&v=4","link":"/","description":"大数据萌新","socials":{"github":"https://github.com/YFR718","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"d","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"B4.大数据常用shell脚本","uid":"c8964ce203e761cbb3c6f466ff1217cb","slug":"B4-大数据常用shell脚本","date":"2021-11-16T08:46:58.000Z","updated":"2021-11-16T08:55:31.635Z","comments":true,"path":"api/articles/B4-大数据常用shell脚本.json","keywords":null,"cover":"https://img-blog.csdnimg.cn/a277ba5acebf4be9b68f076d7fab598b.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUZSNzE4,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center","text":"常见shell脚本集群见文件同步#!/bin/bash #1. 判断参数个数 if [ $# -lt 1 ] then echo Not Enough Arguement! exit; fi #2. 遍历集群所有机器 for host in hadoop102 hadoop103...","link":"","photos":[],"count_time":{"symbolsCount":"3.1k","symbolsTime":"3 mins."},"categories":[{"name":"大数据","slug":"大数据","count":4,"path":"api/categories/大数据.json"}],"tags":[{"name":"shell","slug":"shell","count":1,"path":"api/tags/shell.json"}],"author":{"name":"YFR718","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/47553658?s=400&u=5e0a85700c66d7a2661c5664ec5f24d94e5ed01a&v=4","link":"/","description":"大数据萌新","socials":{"github":"https://github.com/YFR718","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"d","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"Linux基础","uid":"144f0b4d9b9f80ea377106e9c6a54a45","slug":"B0-Linux基础","date":"2021-11-16T08:35:41.000Z","updated":"2021-11-16T09:04:08.607Z","comments":true,"path":"api/articles/B0-Linux基础.json","keywords":null,"cover":"https://img-blog.csdnimg.cn/c2607b79df8149799253f31133417976.jpg?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAWUZSNzE4,size_20,color_FFFFFF,t_70,g_se,x_16#pic_center","text":"Linux概述Linux的创始人:Linus Torvalds 林纳斯 Linux主要的发行版:Ubuntu(乌班图)、RedHat(红帽)、CentOS、Debain[蝶变]、Fedora、SuSE、OpenSUSE Linux由Unix发展而来。 linux与windows区...","link":"","photos":[],"count_time":{"symbolsCount":"13k","symbolsTime":"12 mins."},"categories":[{"name":"大数据","slug":"大数据","count":4,"path":"api/categories/大数据.json"}],"tags":[{"name":"Linux","slug":"Linux","count":1,"path":"api/tags/Linux.json"}],"author":{"name":"YFR718","slug":"blog-author","avatar":"https://avatars.githubusercontent.com/u/47553658?s=400&u=5e0a85700c66d7a2661c5664ec5f24d94e5ed01a&v=4","link":"/","description":"大数据萌新","socials":{"github":"https://github.com/YFR718","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"d","csdn":"","juejin":"","customs":{}}}}}